# 延伸和方向

## 10.1 引言

自 2003 年发布 H.264|AVC 的第一个版本依以来，视频编码行业一直在不断发展。视频平台和交付机制的范围不断扩大，人们越来越期望视频内容可以在任何平台上获得，从移动到高清和 3D 显示，通过任何网络，包括广播、互联网、移动等。自 2003 年以来，该标准本身已有所发展。本章总结了该标准最近的扩展，并介绍了 H.264 之后可能出现的情况。

所谓的“专业”或“保真度范围”扩展成为了 H.264 的High Profile，这是一种用于以极高的再现保真度对高清晰度和工作室内容进行编码的工具，如前几章所述。

越来越多的人需要以不同的带宽和显示分辨率对相同的原始内容进行编码，这导致了可伸缩视频编码(SVC)扩展到 H.264，标准化为 H.264 SVC。SVC 以这样的方式支持视频的有效编码，即视频信号的多个版本可以在比特率、空间分辨率和/或时间分辨率或帧速率的范围内解码。通过联合编码多个版本，应该能够以比单独编码和传输每个版本更有效的方式交付它们。

有一种趋势是创建和交付同一视频场景的多个视图。采用合适的显示技术的立体视频给人以三维(3D)图像的印象。场景的多个视图可以为用户提供选择其视点的选项。“自由视点”视频通过合成实际摄像机位置之间的中间视图，有可能提供场景的任何视图。这些“多视图”应用通常需要对多个密切相关的视频信号或视图进行编码。与SVC类似，多视图视频编码（MVC）利用这些视图之间的相关性来提供高效压缩。用于多视点视频编码的工具已经标准化为H.264 MVC。

视频压缩格式的数量不断增加，越来越多的内容被制作并编码成许多不同的、不兼容的压缩格式。可配置视频编码的最新举措解决了有效支持越来越多的压缩格式的问题。MPEG的可重构视频编码（RVC）子组定义了一个视频工具库、一组标准功能单元和视频压缩的构建块。可以通过定义功能单元的子集及其参数和互连来指定特定视频编解码器。这将使得灵活地重新配置视频编解码器以支持多种标准和专有格式称为可能。更进一步，完全可配置视频编码(FCVC)使得使用一组低级基本操作完全定义和实现任意视频编解码以及在视频通信会话期间更改该定义成为可能。这种方法的潜在好处包括能够快速实现任何新的视频编解码算法，并动态调整压缩算法以适应当前视频场景的特征。

H.264 已被证明是一种有用且成本的技术标准，并将继续增加其在视频编码市场中的份额。随着处理器能力的不断发展，标准界正在考虑 H.264/AVC 之后的内容。在撰写本文时(2010年初)，MPEG 和 VCEG 小组正在研究下一代视频编码标准的建议，该标准有望提供比 H.264 更好的性能，可能需要更高的计算成本。

## 10.2 可分级的视频编码基础

### 10.2.1 同播传输

许多视频压缩应用程序面临的一个挑战是在不同的操作点(即不同的质量、空间分辨率和帧速率)交付视频序列的多个版本。这可以通过使用传统视频编解码器(如H.264|AVC)通过独立地编码每个流来实现。这是联播。在典型的场景中(图10.1),需要将单个源视频传输到多个解码器或客户端，每个解码器或客户端具有不同的功能。在该示例中，原始视频剪辑被编码三次以上产生三个独立的AVC流，每个AVC流被发送和解码。同播场景的问题是三个比特流包含大量冗余，因为相同的视频序列以不同的分辨率和/或质量编码在每个比特流中。理论上，通过利用三个流之间的这种冗余，可以利用更小的传输带宽。

### 10.2.2 可伸缩传输

可伸缩视频编码(SVC)尝试交付多个视频序列的编码序列，它通过使用比上述同播场景更低的总体比特率来达到此目的。它通过利用不同版本之间的冗余来实现这一点，即在不同操作点编码额相同序列的不同版本之间的相关性。

如图10.2所示，使用SVC交付相同的三个序列。单个SVC编码器产生三个编码比特流，称为 Layers。最底层或基本层(图中的 Layer 0)是可使用标准单层解码器(例如，H.264 解码器)解码的流，以在可用质量/分辨率操作点中的最低质量/分辨率生成视频序列。一个或多个增强Layer(Layer 1 和 Layer 2)被编码为 SVC 比特流。为了以更高的质量或分辨率解码序列，SVC解码器解码基本层和一个或多个增强层。在该示例中，使用标准 AVC 解码器解码 Layer 0，产生最低质量的输出；使用SVC解码器解码 Layer 0 和 Layer 1产生更高质量的输出，使用SVC解码器解码 Layer0、Layer1和Layer2产生最高质量的输出。SVC 编码过程通过预测来自基本层和较低增强层的连续增强层，利用以不同分辨率或质量编码的序列之间的冗余。通过这种方式，应该能够以较低的贷款成本实现与同播系统(图10.1)相同的显示结果。

可伸缩编码比特流的一般概念是“流的一部分可以以这样的方式被移除，从而产生的子流形成用于某个目标解码器的另一个有效比特流”。考虑到图10.2，可伸缩比特流由编码的 Layer0、Layer1和Layer2流组成。解码所有三个流产生高质量的输出；移除 Layer2并解码Layer0和Layer1， 产生中等质量输出；移除 Layer1和Layer2并仅解码基本层会产生低质量的输出。

### 10.2.3 可伸缩视频编码的应用

可伸缩视频编码已经被提出用于许多应用场景。

**多解码器：** 越来越多地，相同的原始视频内容由多个设备编码、传输和观看，每个设备具有不同的功能。例如，电影预告片流式传输（从具有低比特率网络连接和低分辨率显示器的手持设备，到具有高比特率连接和高清晰度显示器的PC）到客户端。一系列因素可限制特定解码设备的能力，包括连接比特率、屏幕分辨率和处理能力。一个可伸缩的比特流应该能够尽可能有效地支持广泛的解码能力。

**优雅的降级/增强：** 虽然广播电视等一些应用往往具有清晰定义且一致的视频传输信道，但许多其他应用使用的信道在通信会话期间可能会发生较大的变换。例如，基于IP的应用程序(如视频流或internet会议)将经历不同的通道吞吐量，这取决于网络中的流量和拥塞等因素。可伸缩编码提供了一种机制，用于最大化特定解码器在特定时间点的质量。例如，流式服务器传输视频源的基本层和增强层。解码器尝试接收每个可用Layers。如果成功接收到所有 Layers，解码器将以最大可用质量提取序列。如果连接吞吐量下降，则解码器仅通过接收选定的Layers而回落到较低质量的序列。只要成功解码基本层，就可以始终显示基本质量的视频序列。这意味着基础层非常重要，即优先级高于增强层。

**Achieving** 将视频序列存储为可伸缩编码比特流可以使快速解码视频序列的低质量“预览”成为可能。例如，HD 序列被编码为多个可伸缩层。仅提取 Base Layer 会得到一个低质量的版本，该版本可以快速解码和显示，适合作为整个序列的预览。

### 10.2.4 H.264 中的可伸缩视频编码

可伸缩视频编码(SVC)作为H.264/AVC标准最新版本的附录G，并扩展了原始标准的功能。一个软件实现，联合可伸缩视频模型(JSVM)可供下载和实验。H.264 SVC 支持三种主要类型或类别的可伸缩性(如图10.3):

1. **时间可伸缩性：** Base Layer 是以低时间分辨率或低帧速率编码，添加增强层会增加解码序列的帧速率。    
2. **空间可伸缩性：** Base Layer 是以低空间分辨率编码，添加增强层可提高解码序列的空间分辨率。  
3. **质量可伸缩性：** Base Layer 使用高 QP 以低视觉质量编码；添加增强层可提高解码序列的视觉质量。  

## 10.3 多视点视频编码

多视图视频是包含特定场景的多个并发版本的视频数据。如图10.15所示；这三幅图像是从不同视角拍摄的同一真实世界场景的三个同时视图。多视图视频的潜在实现包括：

a. 立体视频。Astereo 对场景视图进行组合，例如，使用数据眼镜或自动立体显示器，尽管视角有限，但会产生三维视图的错觉(图10.16)。

## 10.4 可配置视频编码

H.264/AVC 是许多流行视频编码格式的较新补充，从早起标准 ITU-T 建议 H.261 和 ISO/IEC MPEG-1 开始，包括越来越多的标准和非标准格式。诸如 MPEG-2 视频、MEPG-4 视频、VC-1 和 H.264|AVC 等编码格式在当前的设备和系统中被广泛使用。这些格式或标准中没有一种是互操作的，即以一种格式编码的视频只能由支持相同格式的解码器解码。


















